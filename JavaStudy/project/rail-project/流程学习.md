# 一、项目搭建以及环境配置
## 1.1 多模块项目搭建
参考：[SpringBoot多模块项目实践](https://www.jianshu.com/p/59ceea4f029d)

### 1.1.1 父工程
pom文件重要代码：
```xml
<!-- 标识 -->
<groupId>study.xiaoming</groupId>  
<artifactId>rail-project</artifactId>  
<version>1.0-SNAPSHOT</version>  
<packaging>pom</packaging>  

<!-- 父工程的父模块 -->
<parent>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-parent</artifactId>  
    <version>3.5.6</version>  
    <relativePath/>
</parent>  

<!-- 子模块  -->
<modules>  
    <module>rail-pojo</module>  
    <module>rail-common</module>  
    <module>rail-server</module>  
</modules>  

<!-- 包的版本管理 -->
<properties>  
    <java.version>17</java.version>  
    <mybatis-flex.version>1.11.3</mybatis-flex.version>  
    <shardingsphere.version>5.4.0</shardingsphere.version>  
    <hutool.version>5.8.38</hutool.version>  
    <lombok.version>1.18.40</lombok.version>  
</properties>

<!-- 包的导入 -->
<dependencyManagement>
	<dependencies>  
		<!-- 这里暂时以mybatis-flex的导入为例 -->
	    <dependency>        
		    <groupId>com.mybatis-flex</groupId>  
	        <artifactId>mybatis-flex-spring-boot3-starter</artifactId>  
	        <version>${mybatis-flex.version}</version>  
	    </dependency>  
    </dependencies>
</dependencyManagement>
```

### 1.1.2 子模块
#### pom文件必要代码
```xml
<!-- 以rail-server为例 -->
<parent>  
    <groupId>study.xiaoming</groupId>  
    <artifactId>rail-project</artifactId>  
    <version>1.0-SNAPSHOT</version>  
</parent>

<dependencies>  
    <dependency>        
	    <groupId>org.springframework.boot</groupId>  
        <artifactId>spring-boot-starter-web</artifactId>  
    </dependency>  
    
    <dependency>        
	    <groupId>org.springframework.boot</groupId>  
        <artifactId>spring-boot-starter-test</artifactId>  
        <scope>test</scope>  
    </dependency>  
    
    <dependency>        
	    <groupId>study.xiaoming</groupId>  
        <artifactId>rail-common</artifactId>  
        <version>1.0-SNAPSHOT</version>  
    </dependency>  
    
    <dependency>        
	    <groupId>study.xiaoming</groupId>  
        <artifactId>rail-pojo</artifactId>  
        <version>1.0-SNAPSHOT</version>  
    </dependency>
</dependencies>
```

#### application.yml文件常用配置
```yml
server:  
  port: 9090

mybatis-flex:  
  mapper-locations: classpath:mapper/*.xml  
  type-aliases-package: study.xiaoming.entity  
  configuration:  
    map-underscore-to-camel-case: true

spring:  
  profiles:  
    active: dev  
  main:  
    allow-circular-references: true  
  datasource:  
    driver-class-name: ${sky.datasource.driver-class-name}  
    url: jdbc:mysql://${sky.datasource.host}:${sky.datasource.port}/${sky.datasource.database}?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&useSSL=false&allowPublicKeyRetrieval=true  
    username: ${sky.datasource.username}  
    password: ${sky.datasource.password}  
  data:  
    redis:  
      host: ${sky.redis.host}  
      port: ${sky.redis.port}  
      password: ${sky.redis.password}  
      database: ${sky.redis.database}  
      lettuce:  
        pool:  
          max-idle: ${sky.redis.lettuce.pool.max-idle}  
          max-active: ${sky.redis.lettuce.pool.max-active}  
          min-idle: ${sky.redis.lettuce.pool.min-idle}  
          time-between-eviction-runs: ${sky.redis.lettuce.pool.time-between-eviction-runs}
```

```yml
# application-dev.yml
sky:  
  datasource:  
    driver-class-name: com.mysql.cj.jdbc.Driver  
    host: 127.0.0.1  
    port: 33060  
    database: sky_delivery  
    username: root  
    password: ctiou1314  
  redis:  
    host: 127.0.0.1  
    port: 36379  
    password: 220924  
    database: 0  
    lettuce:  
      pool:  
        max-idle: 10  
        max-active: 10  
        min-idle: 1  
        time-between-eviction-runs: 10s
```





